<div class="panel panel-primary">
    <div class="panel-heading" ng-click="toggleCollapse()">{{vm.user.name}}</div>
    <div class="panel-body" ng-hide="collapsed">
        <address-v3></address-v3>
        <h4>Friends:</h4>
        <ul>
            <li ng-repeat="friend in vm.user.friends">
                {{friend.name}} <remove-friend remove-method="vm.removeFriend(friend)"></remove-friend>
            </li>
        </ul>
        <div ng-show="!!vm.user.rank">
            Rank: {{vm.user.rank}}
        </div>
        <button ng-show="!vm.user.rank" class="btn btn-success" ng-click="vm.knightMe()">Knight Me!</button>
    </div>
    <my-modal modal-opened="vm.showDialog" options="{width: '100px', left: '40px'}" on-close="vm.knightModalDone(response)">
        <div class="panel panel-primary">
            <div class="panel-heading">Jedi Knight</div>
            <div class="panel-body">
                <p>Do you want the Jedi Knight rank granted to {{vm.user.name}}?</p>
                <button class="btn btn-success" ng-click="vm.knightModalDone(true)">Yes</button>
                <button class="btn btn-danger" ng-click="vm.knightModalDone(false)">No</button>
            </div>
        </div>
    </my-modal>
</div>